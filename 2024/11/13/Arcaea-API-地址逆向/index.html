<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <title>
        Arcaea API 地址逆向 - YinMo19's Blog 
    </title>
     
    
<link rel="stylesheet" href="/css/grid.css">

    
<link rel="stylesheet" href="/css/custom.css">

    
<link rel="stylesheet" href="/css/ringo.css">

     
        <link rel="icon" type="image/x-icon" href="/img/favicon.ico " />
     
     
     
        <meta name=" " content="" />
     
        <meta name=" " content="" />
     
 
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    <header id="header" class="clearfix" onclick="window.open('/', '_self')">
    <div class="site-name">
        <a href="/" id="logo" class="site-title">
            YinMo19&#39;s Blog
        </a>
        <p class="description site-description">
            <span style="padding-top:20px; font-size: 10px">
                
            </span>
        </p>
    </div>
</header>
<div id="sidebar" role="complementary">
    <section class="widget">
        <ul class="menu widget-list">
            
        </ul>
    </section>
    <section class="widget sidebar-foot">
        <ul class="widget-list">
            <li>Theme <a rel="nofollow" target="_blank" href="https://github.com/HeliumOI/hexo-theme-ringo">Ringo</a>
                by <a target="_blank" href="/ "> YinMo19  </a></li>
            <li>Proudly powered by  <a rel="nofollow" target="_blank" href="https://hexo.io/">Hexo</a></li>
        </ul>
    </section>
</div>

<div id="helpbar">
    <div class="back-to-top">
        <button id="back2top">↑</button>
        <script>
            back2top.onclick = function() {
                var movement = document.body.scrollTop || document.documentElement.scrollTop;
                scrollBy(0, -movement);
            }
        </script>
    </div>
</div>
      <main class="main">
        <div id="body">
          <div class="container">
            <div class="col-12" id="main" role="main">
    <article class="post post-atpost" itemscope itemtype="http://schema.org/BlogPosting">
        <div class="post-title">
            <h1 class="post-title post-title-atpage" itemprop="name headline">
                <a itemprop="url" href="/2024/11/13/Arcaea-API-%E5%9C%B0%E5%9D%80%E9%80%86%E5%90%91/">
                    Arcaea API 地址逆向
                </a>
            </h1>
        </div>
        <ul class="post-meta post-meta-atpage">
            <li class="post-time">
                2024-11-13
            </li>
            <li>
                <div class="article-category">
                    
                </div>
            </li>
        </ul>
        <div class="post-content" itemprop="articleBody">
            <div id="original-content" style="display: none;">
<!-- 这里是你原本要隐藏的内容 -->

</div>

<div id="mask-layer">
  <div class="unlock-container">
    <h3>🔐 技术型隐藏页面 · 验证密钥</h3>
    <div class="input-group">
      <input type="password" id="passwordInput" placeholder="输入验证密钥" autocomplete="off">
      <button onclick="checkPassword()">解锁内容</button>
    </div>
    <p id="errorMsg" style="color: #dc3545; display: none;">验证未通过，请重试</p>
  </div>
</div>

<style>
#mask-layer {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(8px);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  /* padding-bottom: 15vh; */
}

.unlock-container {
  background: rgba(255, 255, 255, 0.9);
  padding: 2rem 3rem;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  color: #333;
  text-align: center;
  transition: transform 0.3s;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.input-group {
  margin: 1.5rem 0;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

input {
  padding: 0.8rem 1.2rem;
  border: 1px solid #ced4da;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.95);
  font-size: 1rem;
  transition: border-color 0.3s;
}

input:focus {
  outline: none;
  border-color: #6c757d;
}

button {
  padding: 0.8rem 2rem;
  background: #6c757d;
  border: none;
  border-radius: 6px;
  color: white;
  cursor: pointer;
  font-weight: 500;
  transition: all 0.3s;
}

button:hover {
  background: #5a6268;
  transform: translateY(-1px);
}

#errorMsg {
  margin-top: 1rem;
  font-size: 0.9em;
}
</style>

<script>
// 恭喜你找到密码～
// congratulations to you!
function checkPassword() {
  const input = document.getElementById('passwordInput');
  const errorMsg = document.getElementById('errorMsg');

  if (input.value === "YinMo19") {
    document.getElementById('mask-layer').style.display = 'none';
    document.getElementById('original-content').style.display = 'block';
  } else {
    errorMsg.style.display = 'block';
    input.value = '';
    setTimeout(() => errorMsg.style.display = 'none', 1500);
  }
}

// 回车键支持
document.getElementById('passwordInput').addEventListener('keypress', (e) => {
  if (e.key === 'Enter') checkPassword();
});
</script>


<p>这篇文章是关于逆向游戏 ARCAEA 的，所以先来点…</p>
<blockquote>
<p>本文所写内容仅供学习交流，作者对于读者所做的任何行为概不负责，如果跟着本文所写内容操作，您需要对自己的行为导致的任何后果负责！</p>
</blockquote>
<p>Ok. 总所周知，Arcaea 作为一个在线游戏（虽然只有登陆上传下载还有 LINK 的时候需要用到网络），那么必然存在一个服务器。而且在游戏本体中必然直接硬编码了一个游戏地址，否则游戏的数据就无法对着服务器发送。</p>
<p>在早期版本并没有对这个服务器地址进行什么操作，直接使用明文写在二进制中。但是在3.6.0左右进行了一次比较大的改动，对地址进行了加密。在4.5.0左右版本又对加密算法进行了一些小更新。因此本文主要关于逆向这个加密算法。</p>
<p>之所以逆向这个服务器地址，当然是因为我们想要搭建一个自己的私服。所以在讲述这个过程之前先让我首先对 <a target="_blank" rel="noopener" href="https://github.com/Lost-MSth">Lost-MSth</a>大佬表示最深刻的敬意，是他手把手教我如何操作，并且给我很多支持（在这个过程中我犯的傻不计其数）。我的私服程序来源于他发布在 Github 上的 <a target="_blank" rel="noopener" href="https://github.com/Lost-MSth/Arcaea-Server">Arcaea-Server</a>。</p>
<p>本文参考了</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Lost-MSth/Arcaea-Server">Arcaea-Server</a></li>
<li><a target="_blank" rel="noopener" href="https://bbs.kanxue.com/thread-273849.htm">看雪论坛：[原创] 某 iOS 遊戲抓包、修改</a></li>
<li><a target="_blank" rel="noopener" href="https://fishiat.github.io/arcmodwiki/private-server.html">fishiat 的 blog</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.lost-msth.cn/2023/02/01/android-debug-without-root.html">Android 无 ROOT 权限动态调试 (By Lost)</a></li>
</ul>
<h2 id="什么是私服，怎么搭建"><a href="#什么是私服，怎么搭建" class="headerlink" title="什么是私服，怎么搭建"></a>什么是私服，怎么搭建</h2><p>这个其实完全不应该由我来说，在 <a target="_blank" rel="noopener" href="https://github.com/Lost-MSth/Arcaea-Server">Arcaea-Server</a> 中已经有良好的文档，请一个字一个字阅读。这个仓库的 Wiki 可以说微言大义，错过了任何内容都是损失。</p>
<p>但是我们想讲讲关于私服本身。下面是一张简单的结构图<br><img src="pic_1.jpg" alt="Arcaea初始结构"><br>这张图简单的展示了Arcaea的网络结构。客户端通过网络和官方服务器通信。这种通信基于 https,并且 Arcaea 还做了双端证书校验（一般的https服务仅仅校验服务器证书）防止被抓包。中间的技术细节就不展开。我们的目标是搭建一个自己的服务器，而让一个修改后的私服客户端和我们的服务器通信。可以想到的第一种方法是<br><img src="pic_2.png" alt="Arcaea proxy"><br>我们首先通过代理服务器来作为中间链接，然后让代理服务器劫持所有指向官方服务器的流量，然后将其转发，或者说重定向到你自己的服务器。<br><img src="pic_3.png" alt="Arcaea proxy2"><br>但是这种方法相当于每个人想要玩到你的服务器都需要这样做，不提这样做的实现是否真的可行，这样对于玩家显然一点也不友好。</p>
<h2 id="那有没有什么做法干净又卫生呢？"><a href="#那有没有什么做法干净又卫生呢？" class="headerlink" title="那有没有什么做法干净又卫生呢？"></a>那有没有什么做法干净又卫生呢？</h2><p>那我们回到最开始的路径。<br><img src="pic_4.png" alt="Arcaea 2"><br>我们在开头提到过，既然要访问到官方服务器，那么一定在客户端写死了服务器的地址。那么有没有可能我们可以直接更改客户端来让客户端直接访问我们的服务器呢？<br><img src="pic_5.png" alt="Arcaea 3"><br>这就是本文的目的了。</p>
<h2 id="关于修改地址"><a href="#关于修改地址" class="headerlink" title="关于修改地址"></a>关于修改地址</h2><p>首先我们要先来确定加密的方式和加密的位置。由于更高版本的客户端二进制中加入了更多的混淆，因此我们选一个比较好逆向的客户端。我选取的是4.5.x版本的一个客户端。首先我们通过 <code>apktool</code> 来将其拆开。我们需要更改的是其下的 <code>lib/armeabi-v7a/libcocos2dcpp.so</code> 文件。我们选取32位，它的逆向更简单，而且动态调试也更加简单。不要忘记删除 <code>lib/arm64-v8a/</code> 文件夹。否则手机会自动使用64位版本的二进制文件。</p>
<blockquote>
<p>我的所有思路参考<a target="_blank" rel="noopener" href="https://bbs.kanxue.com/thread-273849.htm">看雪论坛：[原创] 某 iOS 遊戲抓包、修改</a>，当然这篇文章中的地址已经不适用了，因为这篇文章是给4.2.x 使用的，上文提到4.5.x修改了加密密钥。</p>
</blockquote>
<p>使用 ida pro 打开这个文件。IDA PRO 是一款优秀的反汇编工具，这里就不赘述了。<br><img src="ida_1.png" alt="ida1"><br>选择默认选项（ida已经帮我们识别它的类型了（linux elf 二进制动态链接库文件），打开之后 ida 会自动解析这个二进制文件，解析速度取决于文件大小，不过我们可以先进行操作，操作的时候解析过程会先停止优先保证我们的操作流畅度。我们可以先搜索字符串（快捷键 shift-F12） <code>auth/login</code>。之所以搜索这个，是因为登陆必须对服务器进行请求，一定会涉及到服务器地址，这毋庸置疑。<br><img src="ida_2.png" alt="ida2"><br>搜索到这个字符串之后我们可以按 X 键查看引用，直接跳转到第一个引用的地方。<br><img src="ida_3.png" alt="ida3"><br>跳转到的地方可能会出现一些框图，这是代码的结构图，主要是程序的结构。可以按空格退回汇编界面。接下来按 F5 可以查看函数的反编译的伪c代码。<br><img src="ida_4.png" alt="ida4"><br>我们可以读代码，并按n对变量名称进行修改。（在编译过程中编译器会对变量名重命名，因此我们变量名信息丢失之后 ida 只能使用 v1v2 这样的变量来表示。如果我们阅读之后可以确定含义我们可以对其重命名来明晰代码）</p>
<p>根据分析我们大概可以确定（其实是根据前人的经验）代码结构如下<br><img src="ida_5.png" alt="ida5"><br>其中 <code>idx</code> 可以查看引用看看赋值位置<br><img src="ida_6.png" alt="ida6"><br>而又有<br><img src="ida_7.png" alt="ida7"><br>显然 idx 最开始是16，然后大循环之后赋值给v1073，然后v1073没经过任何修改又给idx赋值。在后面的 while 循环中作为递减变量控制循环刚好进行16次。阅读代码，会发现上面有一串非常长的代码，几乎毫无可阅读性。<br><img src="ida_8.png" alt="ida8"><br>从大佬的文章大概可以知道这是一种 CFB 加密，也就是上一次加密的结果再通过某种算法获得下一次加密的密钥。而根据 idx 我们大概知道一次加密16个字节，根据实际的地址长短</p>
<pre><code class="lang-txt">https://arcapi-v3.lowiro.com/&lt;api_endpoint&gt;
</code></pre>
<p>是分成三次加密。而不到48字节则在最后补<code>\0x00</code>。因此我们不能拿到算法本身，我们就只能通过动态调试，通过修改内存值，再拿到每一次的XOR KEY来获取结果。</p>
<p>总结一下，大概算法是这样的：</p>
<pre><code class="lang-python">def get_next_xor_key(last_addr: bytes, last_xor_key):
    # do something weird
    # calculate next xor key
    return next_xor_key


for i in range(3):
    addr = &quot;aosiaosciaqwu12hoichoaichoaihcoccqwocihqoqwdwqwd&quot;[16 * i : 16 * (i + 1)]
    for j in range(16):
        next_addr = next_xor_key[j] ^ addr[j]

    next_xor_key = get_next_xor_key(next_addr, next_xor_key)
</code></pre>
<p>现在我们有 <code>a^b = c, c^b = a^b^b = a</code> ，所以我们可以通过直接通过拿到内存中的 xor_key 和我们想要的地址直接计算出加密之后的地址。而加密的地址和密钥再 XOR 之后即可获取到解密的结果。算法具体请参照<a target="_blank" rel="noopener" href="https://bbs.kanxue.com/thread-273849.htm">看雪论坛：[原创] 某 iOS 遊戲抓包、修改</a>。</p>
<h2 id="动态调试"><a href="#动态调试" class="headerlink" title="动态调试"></a>动态调试</h2><p>在现在 root 手机变得相对更加困难，更取决于手机厂商是否让root，而非是自己的技术。但是 Arcaea 并没有关于反 debug 的校验，所以我们只需要通过修改安装包，然后直接通过 <code>run-as</code> 命令来控制 debug 就可以实现无 root 权限调试。</p>
<p>关于这一块的内容请阅读<a target="_blank" rel="noopener" href="https://blog.lost-msth.cn/2023/02/01/android-debug-without-root.html">Android 无 ROOT 权限动态调试 (By Lost)</a> 这里补充说明一下，在 ida 9.0 mac版本上的 <code>android_server</code> 无后缀是 64位的，有32后缀的是32位的，和教程中的不一样，需要注意。</p>
<p>我们将更改好的软件传输到手机上安装云云…. (推荐直接使用 <code>adb push xxx.apk /storage/emulated/0/</code> 应该至少有30-40mb/s 速度) 然后将端口转发设置好，并启动ida的服务器。<br><img src="terminal_1.png" alt="terminal"><br>这里我没有演示如何传入服务器文件和chmod改777权限部分，还是请参照 Lost-MSth大佬的blog <a target="_blank" rel="noopener" href="https://blog.lost-msth.cn/2023/02/01/android-debug-without-root.html">Android 无 ROOT 权限动态调试 (By Lost)</a>。</p>
<p>现在我们应该在哪里下断点呢？显然是<br><img src="ida_9.png" alt="ida9"><br>在while循环之前，while循环进行 xor 加密，在此之前刚好拿到上一次加密结束的密钥，我们可以直接对着我们想要的结果和密钥 xor 之后写入对应的内存，然后下一次加密就会使用这个新的地址计算下一次的 xor key。</p>
<p>显然这里第一次计算的xor key是固定的 <code>25 42 38 06 4B 6E 4B 3B  63 85 43 CD E6 DF BB 6F</code> （至少到5.10.6还是）。因此我们写一个小程序用于计算加密结果。</p>
<pre><code class="lang-python"># 你的地址 http(s)://ip:port(domain:port)/&lt;api_endpoint&gt;
api_prefix = &quot;https://test.yinmo19.top/natsugakuru/30/&quot;
if len(api_prefix) &lt; 48:
    api_prefix += &quot;\x00&quot; * (48 - len(api_prefix))

b = bytes.fromhex(&quot;25 42 38 06 4B 6E 4B 3B  63 85 43 CD E6 DF BB 6F&quot;)
prefix = api_prefix[:16]
prefix = bytes.fromhex(prefix.encode().hex())
print(bytes(i ^ j for i, j in zip(prefix, b[:16])).hex(&quot; &quot;))

b = bytes.fromhex(&quot;25 42 38 06 4B 6E 4B 3B  63 85 43 CD E6 DF BB 6F&quot;) # 获取到第二个 xor_key 之后填入
prefix = api_prefix[16:32]
prefix = bytes.fromhex(prefix.encode().hex())
print(bytes(i ^ j for i, j in zip(prefix, b[:16])).hex(&quot; &quot;))

b = bytes.fromhex(&quot;25 42 38 06 4B 6E 4B 3B  63 85 43 CD E6 DF BB 6F&quot;) # 获取到第三个 xor_key 之后填入
prefix = api_prefix[32:]
prefix = bytes.fromhex(prefix.encode().hex())
print(bytes(i ^ j for i, j in zip(prefix, b[:16])).hex(&quot; &quot;))
</code></pre>
<p>现在进 debugger 设置一下<br><img src="ida_10.png" alt="ida10"><br>我们就可以选择附加进程 (Attach to Process) ，手机上启动程序，在 ida 中附加进程的可选项应该可以看到一个<code>[32] 包名</code>的选项<br><img src="ida_11.png" alt="ida11"><br>接下来应该会刷入一堆东西，接下来如果需要选择，就选 same。这个问题是问你在电脑上调试的内容和手机软件里面的是否一样，自然一样。然后点击上方的运行按钮，现在卡住的软件应该动起来了。随便在手机上Login输入点东西，然后按一下 Login，这个时候应该会卡住，而ida跳到刚才打的断点的位置。<br><img src="ida_12.png" alt="ida12"><br>现在我们双击<code>encrypt_addr_this</code>跳转到<br><img src="ida_13.png" alt="ida13"><br>看到 <code>4d 36 4c 76...(M6Lv...)</code> 就说明这个确实是地址（这个是地址的开头，对应 http 的加密结果）。右键选择关联到(synchronize with) hex，<br><img src="ida_14.png" alt="ida14"><br>这样下面的hex也对应关联到对应位置。我们直接选择菜单栏中的<br><img src="ida_15.png" alt="ida15"><br>改bytes，刚好一次可以改16个。我们将我们已经知道的第一个16比特直接写入。<br><img src="ida_16.png" alt="ida16"><br>看到橙色的修改即表示修改成功。（可以按一下 xor_key 看看是否和上文说的第一个 xor_key 一致）然后按运行个运行到下一个断点位置（还是同一个位置）。</p>
<p>接下来应该先看xor_key_addr ，双击查看内存地址和值<br><img src="ida_17.png" alt="ida17"><br>刚好是B8开头的这一行 <code>B8 97 5E AD FC B7 F0 EF  F1 A0 1E 5A 36 4D C1 AA</code> 。我们直接将整行复制下来，粘贴到上面的python脚本中的第二个位置，运行可以得到加密地址的中间16字节 <code>d5 f8 6f 94 d2 c3 9f 9f de ce 7f 2e 45 38 a6 cb</code>，和上面操作一致，写入地址。接下来就可以重复第三次操作，拿到最后一次的 xor_key，加密地址。最后将三次获取的内容拼接起来，一共48字节。以后想要开私服只需要替换掉二进制文件中的对应地址就可以了。</p>
<p>这里我提供一个替换小程序，如果有需要可以改改用。</p>
<pre><code class="lang-python">import os


def generate_patched_so(
    filename, before: bytes, to_replace: bytes, suffix: str = &quot;arcapi&quot;
):
    if not os.path.exists(filename):
        print(f&quot;Didn&#39;t find &#123;filename&#125;, skipping patch generation&quot;)
        return

    with open(filename, &quot;rb&quot;) as f:
        data = f.read()

        if data.find(to_replace) != -1:
            print(f&quot;&#123;filename&#125; looks to be already patched :)&quot;)
            return

        if data.find(before) == -1:
            print(f&quot;&#123;filename&#125; doesn&#39;t contain the original modulus.&quot;)
            return

        data = data.replace(before, to_replace)

        patched_filename = f&quot;&#123;filename&#125;.&#123;suffix&#125;&quot;
        with open(patched_filename, &quot;wb&quot;) as f:
            f.write(data)

        print(
            f&quot;Generated address patch to &#123;patched_filename&#125;! To apply the patch, replace the original file with the patched file.&quot;
        )


origin = bytes.fromhex(
    &quot;4d364c763854641402f720ac96b696198bb932c28bde8280cad46122473cf0c63c63f8359caab6e6a6d2d4eab1db7d93&quot;
)
replace_addr = bytes.fromhex(
    &quot;owoqowoqciwqociowqhoiqicoiqocuwqcoqioucoqcoqwfhiqohfcowqcjwbfuiocqwhfbwusofihqwqwoifhqohwoqhqhfq&quot;
) # 替换成你的内容

generate_patched_so(&quot;libcocos2dcpp.so&quot;, origin, replace_addr)
</code></pre>
<p>如果找到了对应部分则会在本地目录下生成一份补丁文件<code>libcocos2dcpp.so.arcapi</code>，将这个文件直接覆盖原文件即可。</p>
<pre><code>cp libcocos2dcpp.so.arcapi libcocos2dcpp.so
</code></pre><p>那么就完成了。</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这个逆向过程其实并不难，但是确实是我接触逆向以来的一个比较大的步子。记得那天找了一个旧版的apk，真正逆向出来的时候在深夜，当时逆向出来的时候激动的跳起来，现在想起来真有意思……最后感谢前辈们提供的支持，还有 ida pro，这真的是个好软件。</p>
<hr>

             
                <blockquote>
                    <p>文章作者：<a href="/ "> YinMo19  </a></p>
                    <p>文章链接：<a href="https://blog.yinmo19.top/2024/11/13/Arcaea-API-%E5%9C%B0%E5%9D%80%E9%80%86%E5%90%91/"> https://blog.yinmo19.top/2024/11/13/Arcaea-API-%E5%9C%B0%E5%9D%80%E9%80%86%E5%90%91/ </a></p>
                    <p>版权声明：除另有声明外，本博客文章均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"> CC BY-NC-SA 4.0 </a> 许可协议。转载请注明原作者与文章出处。</p>
                </blockquote>
             
        </div>
        
    </article>
    <div class="post-near">
    <div class="post-near-child post-near-child-left "> 
        
            <a href="/2024/09/04/%E6%88%91%E7%9A%84Mac%E5%B7%A5%E4%BD%9C%E6%B5%81/">我的Mac工作流 &laquo; </a>
        
        <br /> Prev  &laquo;
    </div>
    <div class="post-near-child post-near-child-right">
        
            <a href="/2025/03/03/%E6%9C%AC%E7%A0%94%E6%95%99%E5%AD%A6%E6%9C%8D%E5%8A%A1-%E5%8F%8Droot-%E6%A8%A1%E6%8B%9F%E5%99%A8%E6%A0%A1%E9%AA%8C/"> &raquo; 本研教学服务-反root/模拟器校验</a>
        
        <br /> &raquo; Next 
    </div>
</div>
</div>
             
<div id="comments">
     
        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<div id="gitalk-container"></div>
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: 'Ov23liJizeKP8Am1RBq3',
        clientSecret: '050cc11a1042b6fb2967548b2638fd54443eef10',
        id: window.location.pathname,
        repo: 'YinMo19_comments',
        owner: 'YinMo19',
        admin: 'YinMo19'
    })
    gitalk.render('gitalk-container')
</script>
     
</div>
 
            <footer id="footer" role="contentinfo">
    
        &copy; 2020 - 2025
        <br />
    
    
    <br />
    
    
        <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
        <span id="busuanzi_value_site_pv">......</span> visits ·
        <span id="busuanzi_value_site_uv">......</span> visitors 
    
</footer>
          </div>
        </div>
      </main>
      <!-- highlight support -->

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/styles/atom-one-light.min.css">


<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/highlight.min.js"></script>
 
<script>
        hljs.initHighlightingOnLoad();
</script>
 
<!-- prettify support -->
 
<!-- mathjax support -->

    
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@2.7.8/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<!-- fancybox support -->
 
<!-- viewerjs support -->

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/viewerjs@1.10.0/dist/viewer.min.css">


<script src="https://cdn.jsdelivr.net/npm/viewerjs@1.10.0/dist/viewer.min.js"></script>

<script type="text/javascript">
    Viewer.setDefaults({
        zoomRatio: [0.5],
        show: function () {
            this.viewer.zoomTo(1);
        },
    });
    
    var imageList = document.querySelector('.post-content').getElementsByTagName('img');
    
    var imageArray = new Array();
    Array.prototype.forEach.call(imageList, element => {
        if (element.alt != "no-view" && element.className != "no-view") {
            imageArray.push(element);
        }
    });
    
    Array.prototype.forEach.call(imageArray, element => {
        var viewer1 = new Viewer(element);
        viewer1.images = imageArray;
        viewer1.length = imageArray.length;
    });
</script>
 
<!-- google analytics support -->



 
 

<!-- lazyload support -->

    
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.4.0/dist/lazyload.min.js"></script>

<script>
    new LazyLoad({
        elements_selector: '.post-content img'
    });
</script>
 
  </body>

</html>